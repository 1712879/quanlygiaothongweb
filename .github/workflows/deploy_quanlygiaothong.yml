# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy
# More GitHub Actions for Azure: https://github.com/Azure/actions

name: Build and deploy Quan Ly Giao Thong

on:
     push:
          branches:
               - deploy

jobs:
     build-and-deploy:
          runs-on: windows-latest

          steps:
               - name: checkout
                 uses: actions/checkout@v2
                 with:
                      ref: deploy

               - name: start front-end
                 run: |
                      npm install
               - name: "Deploy to Azure Web App"
                 uses: azure/webapps-deploy@v2
                 with:
                      app-name: "quanlygiaothong"
                      slot-name: "production"
                      publish-profile: ${{ secrets.AzureAppService_PublishProfile_ee6829498c874a3dbcfda92c18a6f100 }}
                      package: .
